define(function(n,i,e){"use strict";var t=n("jquery"),a=n("../../../gallery/utils/1.0.0/image");t.fn.slider=function(n){function i(n){function i(){f.eq(m).addClass("hover").siblings("a").removeClass("hover");var n=u.eq(m),i=u.eq(l),e=n.attr(h);n.show(),e&&a.load(e,function(){n.css({"background-image":"url("+e+")"}),n.removeAttr(h)}),l!=m&&i.stop().animate({opacity:0,"z-index":1},1e3),n.stop().animate({opacity:1,"z-index":9},1e3),l=m}function e(){o.duration>0&&(n.mouseenter(function(){d=!0}),n.mouseleave(function(){d=!1}),setInterval(function(){d||c(!0)},o.duration))}function c(n){n?(m++,m>=v&&(m=0)):(m--,m<0&&(m=v-1)),i()}function r(n){var i=t('<a class="arrow-l jImgLeft" href="javascript:;"><em></em><i class="icon iconfont"></i></a><a class="arrow-r jImgRight" href="javascript:;"><em></em><i class="icon iconfont"></i></a>').appendTo(n),e=i.filter(".jImgLeft").hide(),a=i.filter(".jImgRight").hide();e.on("click",function(){c(!1)}),a.on("click",function(){c(!0)}),n.mouseenter(function(){e.show(),a.show()}),n.mouseleave(function(){e.hide(),a.hide()})}function s(){n.find(".slider-list").css({background:"none"})}var u=n.find(".slider-list li");if(!u||0!=u.length){var f=n.find(".slider-num a"),d=!1,l=0,m=0,h=o.attr,v=f.length;v<2&&f.hide(),f.mouseenter(function(){m=t(this).index(),i()}),o.addBtn&&r(n),i(),s(),e()}}var e={attr:"data-img",duration:5e3,addBtn:!1,callback:function(){}},o=t.extend({},e,n||{});t(this).each(function(){var n=t(this);i(n)})}});