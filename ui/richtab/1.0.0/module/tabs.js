define(function(t,e,n){"use strict";var s=(t("jquery"),t("lib/core/1.0.0/utils/util"),t("./panels")),i=t("./tab-item"),a=function(){this.options={},this.tabsStorage={},this._initPanles(),this.currentType=null};a.prototype._initPanles=function(){var t=this;t.panelsInstance=new s},a.prototype.getInstance=function(t){return this.tabsStorage[t]},a.prototype._add=function(t){if(this.tabsStorage[t.type])throw new Error("已经注册过的类型 ");t.tabInstance=this.tabsStorage[t.type]=new i(t),this.panelsInstance._add(t),this._initStatus(t),setTimeout(function(){t.tabInstance.emit("load",t.tabInstance.getContent(),t.panelInstance.getContent())},0)},a.prototype._initStatus=function(t){var e=t.firstShow;e&&(t.panelInstance.showFast(),this.currentType=t.type)},a.prototype.getCurrentType=function(){return this.currentType},a.prototype.change=function(t,e){this.currentType&&this.currentType==t||(this.panelsInstance.panelStorage[t][e?"showFast":"show"](),this.currentType&&this.panelsInstance.panelStorage[this.currentType].hide(),this.currentType=t)},n.exports=a});