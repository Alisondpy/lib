define(function(e,t,i){"use strict";function o(e,t){if(!e)throw new Error("the param [url] is required.");var i=this;i._options=t=n.extend({},s,t),i.url=e,i.el=n(i._make()),i._nodes=a.parse(i.el,!1),i._initEvent()}var n=e("jquery"),r=e("lib/core/1.0.0/event/emitter"),l=(e("lib/ui/box/1.0.1/box"),e("lib/core/1.0.0/utils/util")),a=e("lib/core/1.0.0/dom/build"),s={};l.inherits(o,r),o.prototype.$=function(e,t){var i=this._nodes||(this._nodes={}),o=i[e];return(!o||t&&0===o.length)&&(o=this.el.find('[node-type="'+e+'"]'),t&&o.length>0&&(i[e]=o)),!t||o.length?o:null},o.prototype._initEvent=function(e){void 0===e&&(e=!0);var t=this;t.el.off("click"),t._nodes.del.off("click"),e&&(t.el.on("click",function(){t.activate()}),t._nodes.del.on("click",function(){t.destroy(),t.emit("del")}))},o.prototype.activate=function(){var e=this;e.el.addClass("activate"),e.emit("activate")},o.prototype.deactivate=function(){var e=this;e.el.removeClass("activate"),e.emit("deactivate")},o.prototype._make=function(){var e=this,t="";return t+="<li>",t+='    <img src="'+e.url+'">',t+='    <div class="selected-images-op">',t+='        <a href="javascript:;" node-type="del" title="删除">删除</a>',t+="    </div>",t+='    <div class="selected-images-mask"></div>',t+="</li>"},o.prototype.destroy=function(){var e=this;e._initEvent(!1),e.el.remove()},i.exports=o});