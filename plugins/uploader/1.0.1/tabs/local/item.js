define(function(e,t,i){"use strict";function o(e){var t=this;t._options=e=n.extend({},c,e),t.el=n(t._make()),t.file=t._options,t._nodes=l.parse(t.el,!1),t._onEvent()}var n=e("jquery"),s=e("lib/core/1.0.0/event/emitter"),r=e("lib/core/1.0.0/utils/util"),l=e("lib/core/1.0.0/dom/build"),c={};r.inherits(o,s),o.prototype.$=function(e,t){var i=this._nodes||(this._nodes={}),o=i[e];return(!o||t&&0===o.length)&&(o=this.el.find('[node-type="'+e+'"]'),t&&o.length>0&&(i[e]=o)),!t||o.length?o:null},o.prototype._onEvent=function(){var e=this;e._nodes.click.on("click",function(){e.emit("del")})},o.prototype._offEvent=function(){var e=this;e._nodes.click.off("click")},o.prototype.destroy=function(){var e=this;e._offEvent(),e.el.remove()},o.prototype.progress=function(e,t){var i=this,o=e/t*100;return i._nodes["progress-line"].css({width:o+"%"}),this},o.prototype._make=function(){var e=this,t="";return t+='<li data-file-id="'+e._options.id+'">',t+='    <div class="img-name">'+e._options.name+"</div>",t+='    <div class="progress-box"><div class="progress-line" node-type="progress-line"></div></div>',t+='    <a class="img-cancel" href="javascript:;" node-type="click">x</a>',t+="</li>"},i.exports=o});