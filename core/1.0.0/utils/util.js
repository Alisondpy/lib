define(function(t,n,e){"use strict";function r(t){return"object"==typeof t&&null!==t}function o(){}function u(t,n){for(var e=t.length,r=-1;++r<e;)n(t[r],r)}function c(t,n){for(var e in t)y.call(t,e)&&n(t[e],e,t)}function i(t,n){return t&&t.forEach?t.forEach(n):void(h(t)?u(t,n):c(t,n))}function a(t,n){for(var e=-1,r=t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function f(t,n){var e=[];return i(t,function(t,r,o){e.push(n(t,r,o))}),e}function p(t,n){if(!n||!r(n))return t;for(var e=d(n),o=e.length;o--;)t[e[o]]=n[e[o]];return t}function s(t){"?"===t.charAt(0)&&(t=t.substr(1));for(var n,e={},r=t.split("&"),o=-1,u=r.length;++o<u;)n=r[o].split("="),e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return e}var l=new Function("return this")(),y=Object.prototype.hasOwnProperty,h=Array.isArray||function(t){return t&&t instanceof Array},v=function(){var t=(+new Date).toString(36),n=-1;return function(e){return(e||"")+t+ ++n}}(),d=Object.keys||function(t){var n=[];return c(t,function(t,e){n.push(e)}),n},m="function"==typeof Object.create?function(t,n){t.__super__=n.prototype,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(){function t(t){this.constructor=t}return function(n,e){n.__super__=e.prototype,t.prototype=e.prototype,n.prototype=new t(n)}}(),g=l.console||(l.console={});u(["log","error","trace","warn","info"],function(t){g[t]||(g[t]=o)}),n.extend=function(t,n){for(var e=[].slice.call(arguments,1),r=e.length,o=-1;++o<r;)p(t,e[o]);return t},n.inherits=function(t,n,e){m(t,n),e&&p(t.prototype,e)},n.impls=function(t,e){return e="function"==typeof e?e.prototype:e,n.mix(t.prototype,e),t},n.parseQuery=s,n.parseParams=s,n.each=i,n.map=function(t,n){var e=h(t)?a:f;return e(t,n)},n.filter=function(t,n){var e,r,o=h(t)?(e=u,r=function(t,n){o.push(n)},[]):(e=c,r=function(t,n){o[t]=n},{});return e(t,function(t,e){n(t,e)&&r(e,t)}),o},n.mix=function t(n,e,r,o,u){for(var c in e)e.hasOwnProperty(c)&&(e[c]&&n[c]&&r&&"object"==typeof e[c]?t(n[c],e[c],r,o,u):(void 0===n[c]||o)&&(u&&!u(n[c],e[c])||(n[c]=e[c])));return n},n.guid=v,n.setImmediate=function(){var t=l.document,n=l.postMessage,e=l.setImmediate;return e?e:"onreadystatechange"in t.createElement("script")?function(n){function e(){r.onreadystatechange=null,r.parentNode.removeChild(r),n()}var r=t.createElement("script");r.onreadystatechange=e,t.documentElement.appendChild(r)}:n?function(t){function e(n){n.data===r&&(l.removeEventListener("message",e,!0),t())}var r=v();l.addEventListener("message",e,!0),n(r,"*")}:function(t){l.setTimeout(t,0)}}(),n.noop=o,n.throttle=function(t,n){if(n=n?n:150,n===-1)return function(){t.apply(this,arguments)};var e;return function(){var r=+new Date;(!e||r-e>n)&&(e=r,t.apply(this,arguments))}},n.debounce=function(t,n,e,r){var o;return function(){var u=r||this,c=arguments,i=function(){o=null,e||t.apply(u,c)},a=e&&!o;clearTimeout(o),o=setTimeout(i,n),a&&t.apply(u,c)}},n.deprecate=function(t,n){function e(){if(!r){try{throw new Error(n)}catch(t){for(var e=((t.stack||t)+"").split("\n"),o=[],u=-1,c=e.length;++u<c;)~e[u].indexOf("Object.deprecated")||o.push(e[u]);var i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};(0,eval)('console.warn("'+o.join("\n").replace("Error:","Deprecate:").replace(/[\s\S]/g,function(t){return i[t]||t})+'")')}r=!0}return t.apply(this,arguments)}if(l.noDeprecation===!0)return t;var r=!1;return e}});