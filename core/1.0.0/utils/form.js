define(function(e,t,n){"use strict";function a(e){return f.createElement(e)}function r(e){return"number"==typeof e||"string"==typeof e&&isNaN(parseFloat(e))}function i(e,t){var n=typeof e;switch(n){case"number":return isFinite(e);case"null":case"undefined":return!1;default:return n&&(!t||""!==e)}}function o(e){var t=o.d||(o.d=a("i"));return t.innerHTML=e,t.innerText||t.textContent}function c(e){for(var t,n=e.length;n--;)t=e[n],i(t)||e.splice(n,1);return e}var l=e("jquery"),f=window.document,u=l.trim,d="placeholder"in a("input"),s="[]",p=/INPUT|TEXTAREA|SELECT/,v=function(e,t,n){l(e).find("[name]").each(function(e,a){var r=l(a).attr("name"),c=t[r];if(r.indexOf("[")>-1){var f=r.replace(/\]/g,"").split("["),e=0,u=null;for(c=t;u=f[e++];){if(!c[u]){c=void 0;break}c=c[u]}}if(!i(c)){if(n!==!0)return;c=""}if("string"==typeof c&&c.indexOf("&")>-1&&(c=o(c)),c=String(c),"radio"===a.type)a.checked=a.value===c;else if("checkbox"===a.type)a.checked=c;else if(d)a.value=c;else{var s=l(a);a.value!==c&&""!==c&&s.data("changed",!0),""===c?s.data("changed",!1).val(s.attr("placeholder")):a.value=c}})},h=function(e,t){var n={},a=!1,i=l(e).get(),o=i[0];return o?("FORM"===o.nodeName&&(i=o.elements),"boolean"==typeof t?(a=t,t={}):(t=t||{},a=t.convert,a=void 0!==a&&a),t.semantic&&(i=o.getElementsByTagName("*")),i.length?(l.each(i,function(e,i){var o=i.type&&i.type.toLowerCase();if("submit"!==o&&i.name&&!i.disabled){var f=l(i),d=i.name,v=p.test(i.tagName)?f.val():f.attr("value")||"";if("radio"!==i.type||i.checked){if("checkbox"===i.type&&(v=i.checked),f.data("changed")!==!0&&v===f.attr("placeholder")&&(v=""),a){if(r(v)){var h=parseFloat(v),m=h+"";v.indexOf(".")>0&&(m=h.toFixed(v.split(".")[1].length)),m===v&&(v=h)}else"true"===v?v=!0:"false"===v&&(v=!1);""===v&&(v=void 0)}"string"!=typeof v||t.raw||(v=u(v));for(var g,y=n,x=t.nameSep||s,b=c(d.split(x)),k=d.indexOf("[]")===d.length-2,e=-1,F=b.length-1;++e<F;)y[b[e]]||(y[b[e]]={}),y=y[b[e]];g=b[b.length-1],k||y[g]?(y[g]instanceof Array||(y[g]=void 0===y[g]?[]:[y[g]]),y[g].push(v)):y[g]||(y[g]=v)}}}),n):n):n};t.serializeForm=h,t.setFormData=v});